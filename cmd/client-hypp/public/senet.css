html {
  box-sizing: border-box;
}
*,
*:before,
*:after {
  box-sizing: inherit;
}

.board {
  width: 100%;
  aspect-ratio: 10 / 3;
  background-color: #fdd978;
  border: 5px solid #fdd978;
  border-radius: 20px;
  display: grid;
  grid-template-columns: repeat(10, minmax(0, 1fr));
  grid-template-rows: repeat(3, minmax(0, 1fr));
  position: relative;
}

.square {
  aspect-ratio: 1 / 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.inner-square {
  width: 100%;
  aspect-ratio: 1 / 1;
  background-color: #605542;
  border: none;
  margin: 5px;
  border-radius: 10px;
  box-shadow: inset 0 0 10px #000000;
  display: flex;
  align-items: center;
  justify-content: center;
  color: black;
  font-size: 3rem;
}

.piece-wrapper {
  width: 10%;
  aspect-ratio: 1 / 1;
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: top 1s, left 1s;
}

.row-0 {
  top: calc(100% * 0 / 3);
}
.row-1 {
  top: calc(100% * 1 / 3);
}
.row-2 {
  top: calc(100% * 2 / 3);
}

.column-0 {
  left: calc(100% * 0 / 10);
}
.column-1 {
  left: calc(100% * 1 / 10);
}
.column-2 {
  left: calc(100% * 2 / 10);
}
.column-3 {
  left: calc(100% * 3 / 10);
}
.column-4 {
  left: calc(100% * 4 / 10);
}
.column-5 {
  left: calc(100% * 5 / 10);
}
.column-6 {
  left: calc(100% * 6 / 10);
}
.column-7 {
  left: calc(100% * 7 / 10);
}
.column-8 {
  left: calc(100% * 8 / 10);
}
.column-9 {
  left: calc(100% * 9 / 10);
}

.piece {
  width: 80%;
  aspect-ratio: 1 / 1;
  border: none;
  border-radius: 50%;
  box-shadow: 0 0 5px #000000;
}

.piece:not(:disabled) {
  cursor: pointer;
}

.piece.player-0 {
  background: rgb(204, 255, 253);
  background: radial-gradient(
    ellipse at 10% 20%,
    rgba(204, 255, 253, 1) 0%,
    rgba(86, 122, 121, 1) 100%
  );
}

.piece.player-0.selected {
  background: rgb(204,255,253);
  background: radial-gradient(
    ellipse at 10% 20%,
    rgba(204,255,253,1) 0%,
    rgba(0,255,248,1) 100%
  );
}

.piece.player-0:not(:disabled) {
  animation: player-0-pulse 2s infinite;
}

.piece.player-1 {
  background: rgb(248, 206, 204);
  background: radial-gradient(
    ellipse at 10% 20%,
    rgba(248, 206, 204, 1) 0%,
    rgba(110, 47, 59, 1) 100%
  );
}

.piece.player-1.selected {
  background: rgb(248,206,204);
  background: radial-gradient(
    ellipse at 10% 20%,
    rgba(248,206,204,1) 0%,
    rgba(255,0,49,1) 100%
  );
}

.piece.player-1:not(:disabled) {
  animation: player-1-pulse 2s infinite;
}

@keyframes moving {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.3);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes player-0-pulse {
  0% {
    transform: scale(0.98);
    box-shadow: 0 0 0 0 rgba(204, 255, 253, 0.7);
  }

  70% {
    transform: scale(1);
    box-shadow: 0 0 0 10px rgba(204, 255, 253, 0);
  }

  100% {
    transform: scale(0.98);
    box-shadow: 0 0 0 0 rgba(204, 255, 253, 0);
  }
}

@keyframes player-1-pulse {
  0% {
    transform: scale(0.98);
    box-shadow: 0 0 0 0 rgba(248, 206, 204, 0.7);
  }

  70% {
    transform: scale(1);
    box-shadow: 0 0 0 10px rgba(248, 206, 204, 0);
  }

  100% {
    transform: scale(0.98);
    box-shadow: 0 0 0 0 rgba(248, 206, 204, 0);
  }
}

.piece.moving {
  animation-name: moving;
  animation-duration: 1s;
}

/* Based on https://www.w3schools.com/howto/howto_css_flip_card.asp */
.stick-container {
  position: relative;
  width: 90%;
  aspect-ratio: 5 / 1;
}

.stick {
  background-color: transparent;
  width: 100%;
  height: 100%;
  perspective: 1000px;
  position: absolute;
  opacity: 0.1;
}

.stick-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 1s;
  transition-timing-function: cubic-bezier(0.42, -0.4, 0.46, 1.4);
  transform-style: preserve-3d;

}

.stick-front,
.stick-back {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  border-radius: 10px;
  box-shadow: 0 0 1px 1px #000;
}

.stick-front {
  background: rgb(100, 100, 100);
  background: linear-gradient(
      180deg,
      rgb(100, 100, 100) 0%,
      rgb(25, 25, 25) 100%
  );
}

.stick-back {
  background: rgb(232, 232, 232);
  background: linear-gradient(
    0deg,
    rgb(232, 232, 232) 0%,
    rgb(189, 189, 189) 100%
  );
  transform: rotateY(180deg);
}

.sticks {
  width: 100%;
  aspect-ratio: 10 / 3;
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  place-items: center;
  position: relative;
}

.throw-button {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 2px solid rgba(51, 217, 178, 1);
  border-radius: 10px;
  display: none;
  box-shadow: inset 0 0 0 0 rgba(51, 217, 178, 1);
  opacity: 0.5;
  animation: throw-pulse 2s infinite;
  cursor: pointer;
}

.throw-button:not(:disabled) {
  display: block;
}

@keyframes throw-pulse {
  0% {
    transform: scale(0.98);
    box-shadow: inset 0 0 0 0 rgba(51, 217, 178, 0.7);
  }

  70% {
    transform: scale(1);
    box-shadow: inset 0 0 0 10px rgba(51, 217, 178, 0);
  }

  100% {
    transform: scale(0.98);
    box-shadow: inset 0 0 0 0 rgba(51, 217, 178, 0);
  }
}


/* Based on https://css-tricks.com/how-to-create-a-realistic-motion-blur-with-css-transitions/ */
.delay-0 {
  transition-delay: 0ms;
}
.delay-1 {
  transition-delay: 3ms;
}
.delay-2 {
  transition-delay: 6ms;
}
.delay-3 {
  transition-delay: 9ms;
}
.delay-4 {
  transition-delay: 12ms;
}
.delay-5 {
  transition-delay: 15ms;
}
.delay-6 {
  transition-delay: 18ms;
}
.delay-7 {
  transition-delay: 21ms;
}
.delay-8 {
  transition-delay: 24ms;
}
.delay-9 {
  transition-delay: 27ms;
}
.delay-10 {
  transition-delay: 30ms;
}
.delay-11 {
  transition-delay: 33ms;
}
.delay-12 {
  transition-delay: 36ms;
}
.delay-13 {
  transition-delay: 39ms;
}
.delay-14 {
  transition-delay: 42ms;
}
.delay-15 {
  transition-delay: 45ms;
}
.delay-16 {
  transition-delay: 48ms;
}
.delay-17 {
  transition-delay: 51ms;
}
.delay-18 {
  transition-delay: 54ms;
}
.delay-19 {
  transition-delay: 57ms;
}
.delay-20 {
  transition-delay: 60ms;
}
